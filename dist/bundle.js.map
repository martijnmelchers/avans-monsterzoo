{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Controller/Controller.js","webpack:///./src/Controller/GridController.js","webpack:///./src/Controller/MonsterController.js","webpack:///./src/Controller/PageController.js","webpack:///./src/Controller/WeatherController.js","webpack:///./src/Model/config.js","webpack:///./src/Model/grid.js","webpack:///./src/Model/init.js","webpack:///./src/Model/monster.js","webpack:///./src/Model/storage.js","webpack:///./src/Model/weather.js","webpack:///./src/View/GridView.js","webpack:///./src/View/MonsterView.js","webpack:///./src/View/PageView.js","webpack:///./src/View/View.js","webpack:///./src/View/WeatherView.js","webpack:///./src/index.js"],"names":["Controller","model","view","GridController","drop","bind","ev","preventDefault","id","parseInt","dataTransfer","getData","region","target","parentElement","dataset","x","y","Storage","getAvailableMonster","monster","getPlacedMonster","moveMonster","placeMonster","appendChild","document","getElementById","surroundingIndexes","getSurrounding","forEach","indexes","placedMonster","getMonster","monsterModel","MonsterModel","configure","interact","MonsterController","onMonsterCreate","onElementChange","config","data","restrictions","render","e","formData","FormData","entries","pair","setProperty","exportCanvas","Math","floor","random","saveMonster","View","scrollToTop","displayMonster","index","selectedIndex","value","options","limitations","Config","monsters","types","PageController","onShowJungle","onShowSahara","onShowNorthPole","initializeJungle","initializeSahara","initializeNorthPole","initializeWeather","initializeMonsterCreator","initializeAvailableMonsters","monsterView","MonsterView","monsterController","initialize","weatherView","WeatherView","weatherModel","WeatherModel","weatherController","WeatherController","jungleElement","jungleModel","GridModel","jungleView","GridView","saharaElement","saharaModel","saharaView","northPoleElement","northPoleModel","northPoleView","getAvailableMonsters","resetVisible","display","showWeather","place","dataModel","temperature","main","getWeather","res","temp","weather","apiKey","units","grid","rows","columns","water","arms","fields","name","min","max","legs","maxArms","eyes","fur","canFly","canSwim","color","fire","furType","earth","wind","gridLayout","loadLayout","monsterLayout","getPlacedMonsters","console","log","getPlacedMonsterByCoords","find","m","monsterLocations","push","checkEmpty","pageView","PageView","pageController","element","numArms","numLegs","property","properties","prop","hasOwnProperty","localStorage","getItem","setItem","JSON","stringify","createDefaultConfiguration","areas","layout","available_monsters","placed_monsters","parse","getObject","saveObject","filter","override","status","loc","callback","xmlHttp","XMLHttpRequest","requestUrl","fetch","then","response","json","innerHTML","renderTiles","join","addMonsters","createListenerEvents","gridItems","style","createTile","isDisabled","a","image","createElement","src","drawing","draggable","addEventListener","drag","querySelector","dropEffect","querySelectorAll","tile","allowDrop","setData","firstChild","classList","add","setTimeout","remove","setDisplay","toggle","labels","legType","armType","monsterForm","monsterType","container","init","setLimitations","resetFields","limitation","renderField","parent","width","height","canvas","node","context","getContext","fillColor","createCanvas","ctx","fillCircle","radius","fillStyle","beginPath","moveTo","arc","PI","fill","clearTo","fillRect","onmousemove","isDrawing","getMousePos","erase","onmousedown","onmouseup","evt","rect","getBoundingClientRect","clientX","left","clientY","top","toDataURL","img","Image","dataUri","onload","drawImage","form","removeChild","key","fieldVal","append","renderPartialField","form_group","el","fieldType","getLimitationFieldType","buildLabel","buildSelect","buildTextInput","selectEl","setAttribute","option","optionEl","textContent","type","textEl","label","jungleEl","saharaEl","northPoleEL","window","scroll","behavior","formatTemp"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export class Controller {\r\n    constructor(model, view) {\r\n        this.model = model;\r\n        this.view = view;\r\n    }\r\n\r\n    initialize() {\r\n\r\n    }\r\n}\r\n","import { Controller } from './Controller';\r\nimport { Storage } from \"../Model/storage\";\r\nimport { MonsterModel } from '../Model/monster';\r\nexport class GridController extends Controller {\r\n    initialize() {\r\n        this.view.drop = this.drop.bind(this);\r\n\r\n    }\r\n\r\n    drop(ev) {\r\n        ev.preventDefault();\r\n        const id = parseInt(ev.dataTransfer.getData(\"text/plain\"));\r\n\r\n        if (!id) return;\r\n\r\n        const region = ev.target.parentElement.dataset.region;\r\n        const x = parseInt(ev.target.dataset.x);\r\n        const y = parseInt(ev.target.dataset.y);\r\n        if(Storage.getAvailableMonster(id) == null) {\r\n            const monster = Storage.getPlacedMonster(region, id);\r\n\r\n            if(!monster) return;\r\n\r\n            monster.x = x;\r\n            monster.y = y;\r\n\r\n            Storage.moveMonster(monster);\r\n        } else {\r\n            const monster = Storage.getAvailableMonster(id);\r\n\r\n            if(!monster) return;\r\n\r\n            monster.x = x;\r\n            monster.y = y;\r\n            monster.region = region;\r\n\r\n            Storage.placeMonster(monster);\r\n        }\r\n\r\n        ev.target.appendChild(document.getElementById(id));\r\n\r\n    \r\n        const surroundingIndexes = this.model.getSurrounding(x,y);\r\n        surroundingIndexes.forEach(indexes => {\r\n            let placedMonster = this.model.getMonster(indexes[0], indexes[1]);\r\n            let monsterModel = new MonsterModel();\r\n            monsterModel.configure(placedMonster);\r\n            this.view.interact(indexes[0],indexes[1]);\r\n        });\r\n    }\r\n}\r\n\r\n\r\n","import { Controller } from \"./Controller\";\r\nimport { MonsterModel } from \"../Model/monster\";\r\nimport { View } from \"../View/View\";\r\nimport { Storage } from \"../Model/storage\";\r\nimport { Config } from \"../Model/config\";\r\n\r\nexport class MonsterController extends Controller {\r\n    initialize() {\r\n        this.view.onMonsterCreate = this.onMonsterCreate.bind(this);\r\n        this.view.onElementChange = this.onElementChange.bind(this);\r\n\r\n        let config = {\r\n            data: {},\r\n            restrictions: {},\r\n        };\r\n\r\n        this.view.render();\r\n    }\r\n\r\n    onMonsterCreate(e) {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.target);\r\n        const monster = new MonsterModel();\r\n\r\n        // Display the key/value pairs\r\n        for (const pair of formData.entries()) {\r\n            monster.setProperty(pair[0], pair[1])\r\n        }\r\n\r\n        monster.setProperty(\"drawing\", this.view.exportCanvas());\r\n        monster.setProperty(\"id\", Math.floor(Math.random() * 10000 + 1));\r\n\r\n        Storage.saveMonster(monster);\r\n        View.scrollToTop();\r\n\r\n        this.view.displayMonster(monster);\r\n    }\r\n\r\n    onElementChange(e) {\r\n        const index = e.target.selectedIndex;\r\n        const value = e.target.options[index].value;\r\n\r\n        let data = {\r\n            limitations: Config.monsters.types[value]\r\n        };\r\n\r\n        this.view.render(data)\r\n    }\r\n}","import { Controller } from './Controller';\r\nimport { GridModel } from '../Model/grid';\r\nimport { GridView } from '../View/GridView'\r\nimport { GridController } from '../Controller/GridController';\r\nimport { WeatherController } from '../Controller/WeatherController';\r\nimport { WeatherView } from '../View/WeatherView';\r\nimport { WeatherModel } from '../Model/weather';\r\nimport { MonsterModel } from '../Model/monster';\r\nimport { MonsterController } from '../Controller/MonsterController';\r\nimport { MonsterView } from '../View/MonsterView';\r\nimport { Storage } from \"../Model/storage\";\r\n\r\nexport class PageController extends Controller {\r\n    initialize() {\r\n        this.view.onShowJungle = this.onShowJungle.bind(this);\r\n        this.view.onShowSahara = this.onShowSahara.bind(this);\r\n        this.view.onShowNorthPole = this.onShowNorthPole.bind(this);\r\n\r\n        this.initializeJungle();\r\n        this.initializeSahara();\r\n        this.initializeNorthPole();\r\n\r\n        this.initializeWeather();\r\n        this.initializeMonsterCreator();\r\n        this.initializeAvailableMonsters();\r\n\r\n        this.view.render();\r\n\r\n        this.onShowJungle();\r\n\r\n\r\n    }\r\n\r\n    initializeMonsterCreator() {\r\n        this.monsterView = new MonsterView(document.getElementById('monster-creator'));\r\n        this.monsterModel = new MonsterModel();\r\n        this.monsterController = new MonsterController(this.monsterModel, this.monsterView);\r\n        this.monsterController.initialize();\r\n    }\r\n\r\n    initializeWeather() {\r\n        this.weatherView = new WeatherView(document.getElementById(\"weather\"));\r\n        this.weatherModel = new WeatherModel();\r\n        this.weatherController = new WeatherController(this.weatherModel, this.weatherView);\r\n        this.weatherController.initialize();\r\n    }\r\n\r\n    initializeJungle() {\r\n        const jungleElement = document.getElementById(\"jungleGrid\");\r\n        const jungleModel = new GridModel(\"Jungle\", \"Jungle\");\r\n\r\n\r\n        this.jungleView = new GridView(jungleElement);\r\n\r\n        /* Create controller for the jungle */\r\n        new GridController(jungleModel, this.jungleView).initialize();\r\n\r\n        this.jungleView.render(jungleModel);\r\n\r\n\r\n    }\r\n\r\n    initializeSahara() {\r\n        const saharaElement = document.getElementById(\"saharaGrid\");\r\n        const saharaModel = new GridModel(\"Sahara\", \"Sahara\");\r\n\r\n        this.saharaView = new GridView(saharaElement);\r\n\r\n        /* Create controller for the sahara */\r\n        new GridController(saharaModel, this.saharaView).initialize();\r\n\r\n        this.saharaView.render(saharaModel);\r\n    }\r\n\r\n    initializeNorthPole() {\r\n        const northPoleElement = document.getElementById(\"northPoleGrid\");\r\n        const northPoleModel = new GridModel(\"Noordpool\", \"NorthPole\");\r\n\r\n        this.northPoleView = new GridView(northPoleElement);\r\n\r\n        /* Create controller for the north pole */\r\n        new GridController(northPoleModel, this.northPoleView).initialize();\r\n\r\n        this.northPoleView.render(northPoleModel);\r\n    }\r\n\r\n    initializeAvailableMonsters() {\r\n        for (const monster of Storage.getAvailableMonsters())\r\n            this.monsterView.displayMonster(monster)\r\n    }\r\n\r\n\r\n    onShowJungle() {\r\n        this.resetVisible();\r\n        this.jungleView.display = true;\r\n\r\n        this.weatherController.showWeather(\"Rio\");\r\n    }\r\n\r\n    onShowSahara() {\r\n        this.resetVisible();\r\n        this.saharaView.display = true;\r\n\r\n        this.weatherController.showWeather(\"Sahara\");\r\n    }\r\n\r\n    onShowNorthPole() {\r\n        this.resetVisible();\r\n        this.northPoleView.display = true;\r\n\r\n        this.weatherController.showWeather(\"Longyearbyen\");\r\n    }\r\n\r\n    resetVisible() {\r\n        this.jungleView.display = false;\r\n        this.saharaView.display = false;\r\n        this.northPoleView.display = false\r\n    }\r\n}","import { Controller } from \"./Controller\";\r\n\r\nexport class WeatherController extends Controller {\r\n    initialize() {\r\n\r\n    }\r\n\r\n\r\n    showWeather(place) {\r\n        let dataModel = {\r\n            temperature: \"\",\r\n            main: \"\",\r\n        };\r\n        this.model.getWeather(place, (res) => {\r\n            dataModel.temperature = res.main.temp;\r\n            dataModel.main = res.weather[0].main;\r\n            this.view.render(dataModel);\r\n        });\r\n    }\r\n}","export const Config = {\r\n\r\n    weather: {\r\n        apiKey: \"93c1bff2d02ce75777a3fcc1bdf35da7\",\r\n        units: \"metric\",\r\n    },\r\n\r\n    grid: {\r\n        rows: 10,\r\n        columns: 10\r\n    },\r\n\r\n    monsters: {\r\n        types: {\r\n            water:{\r\n                arms: {\r\n                    fields: [\r\n                        { \r\n                            name: \"arms\",\r\n                            min: 0,\r\n                            max: 8,\r\n                        },\r\n                        {\r\n                            name: \"armType\",\r\n                            types: [\r\n                                \"Tentakels\",\r\n                                \"Vinnen\",\r\n                            ]\r\n                        }\r\n                    ], \r\n                },\r\n                legs: {\r\n                    maxArms: 4,\r\n                    min: 0,\r\n                    max: 4,\r\n                },\r\n                eyes: {\r\n                    min: 0,\r\n                    max: 8,\r\n                },\r\n                fur: {\r\n                    types: [\r\n                        \"Schubben\",\r\n                        \"Slijm\"\r\n                    ],\r\n                },\r\n                canFly: false,\r\n                canSwim: true,\r\n                color: {\r\n                    types: [\r\n                        \"Blauw\",\r\n                        \"Rood\",\r\n                        \"Groen\"\r\n                    ]\r\n                }\r\n            },\r\n            fire: {\r\n                arms: {\r\n                    fields: [\r\n                        { \r\n                            name: \"arms\",\r\n                            min: 0,\r\n                            max: 6,\r\n                        },\r\n                        {\r\n                            name: \"armType\",\r\n                            types: [\r\n                                \"Tentakels\",\r\n                                \"Klauwen\",\r\n                                \"klauw-vleugels\"\r\n                            ]\r\n                        }\r\n                    ], \r\n\r\n                },\r\n                legs: {\r\n                    maxArms: 2,\r\n                    min: 0,\r\n                    max: 4,\r\n                },\r\n                eyes: {\r\n                    min: 0,\r\n                    max: 4,\r\n                },\r\n                fur: {\r\n                    types: [\r\n                        \"Schubben\",\r\n                        \"Veren\"\r\n                    ],\r\n                },\r\n                canFly: {\r\n                    furType: \"Veren\",\r\n                },\r\n                canSwim: false,\r\n                color: {\r\n                    types: [\r\n                        \"Rood\",\r\n                        \"Oranje\",\r\n                        \"Bruin\"\r\n                    ]\r\n                }\r\n            },\r\n            earth: {\r\n                arms: {\r\n                    fields: [\r\n                        { \r\n                            name: \"arms\",\r\n                            min: 2,\r\n                            max: 2,\r\n                        },\r\n                        {\r\n                            name: \"armType\",\r\n                            types: [\r\n                                \"Klauwen\",\r\n                            ]\r\n                        }\r\n                    ], \r\n                },\r\n                legs: {\r\n                    types:[\r\n                        2,\r\n                        4,\r\n                        6\r\n                    ]\r\n                },\r\n                eyes: {\r\n                    min: 2,\r\n                    max: 2,\r\n                },\r\n                fur: {\r\n                    types: [\r\n                        \"Haar\",\r\n                        \"Schubben\",\r\n                        \"Slijm\"\r\n                    ],\r\n                },\r\n                canFly: false,\r\n                canSwim: true,\r\n                color: {\r\n                    types: [\r\n                        \"Paars\",\r\n                        \"Oranje\",\r\n                        \"Wit\"\r\n                    ]   \r\n                }             \r\n            },\r\n            wind: {\r\n                arms: {\r\n                   fields: [\r\n                        { \r\n                            name: \"arms\",\r\n                            min: 2,\r\n                            max: 2,\r\n                        },\r\n                        {\r\n                            name: \"armType\",\r\n                            types: [\r\n                                \"Vleugels\",\r\n                                \"Klauw-vleugels\"\r\n                            ]\r\n                        }\r\n                    ], \r\n                },\r\n                legs: {\r\n\r\n                    fields:[\r\n                        {\r\n                            types: [\r\n                                0,\r\n                                2\r\n                            ]\r\n                        }\r\n                    ]\r\n\r\n                },\r\n                eyes: {\r\n                    min: 2,\r\n                    max: 2,\r\n                },\r\n                fur: {\r\n                    types: [\r\n                        \"Veren\",\r\n                        \"Haar\",\r\n                        \"Schubben\"\r\n                    ],\r\n                },\r\n                canFly: true,\r\n                canSwim: {\r\n                    furType: [\r\n                        \"Haar\",\r\n                        \"Schubben\"\r\n                    ]\r\n                },\r\n                color: {\r\n                    types: [\r\n                        \"Wit\",\r\n                        \"Blauw\",\r\n                        \"Paars\"\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    },\r\n};","import { Config } from './config';\r\nimport { Storage } from \"./storage\";\r\n\r\nexport class GridModel {\r\n    constructor(name, region) {\r\n        this.name = name;\r\n        this.region = region;\r\n        this.rows = Config.grid.rows;\r\n        this.columns = Config.grid.columns;\r\n        this.gridLayout = Storage.loadLayout(this.region);\r\n        this.monsterLayout = Storage.getPlacedMonsters(this.region);\r\n        console.log(Storage.getPlacedMonsterByCoords(this.region, 3,3));\r\n\r\n    }\r\n\r\n    isDisabled(x, y) {\r\n        return this.gridLayout[\"layout\"][x][y] === 1;\r\n    }\r\n\r\n    getMonster(x, y) {\r\n        return this.monsterLayout.find(m => m.x === x && m.y === y);\r\n    }\r\n\r\n\r\n    getSurrounding(x, y){\r\n        this.monsterLayout = Storage.getPlacedMonsters(this.region);\r\n        let monsterLocations = [];\r\n        if(this.getMonster(x,y+1)){\r\n            monsterLocations.push([x,y+1])\r\n        }\r\n        if(this.getMonster(x+1,y)){\r\n            monsterLocations.push([x+1,y])\r\n        }\r\n        if(this.getMonster(x-1,y)){\r\n            monsterLocations.push([x-1,y])\r\n        }\r\n        if(this.getMonster(x,y-1)){\r\n            monsterLocations.push([x,y-1])\r\n        }\r\n        if(this.getMonster(x+1,y+1)){\r\n            monsterLocations.push([x+1,y+1])\r\n        }\r\n        if(this.getMonster(x-1,y+1)){\r\n            monsterLocations.push([x-1,y+1])\r\n        }\r\n        if(this.getMonster(x+1,y-1)){\r\n            monsterLocations.push([x+1,y-1])\r\n        }\r\n        if(this.getMonster(x+1,y-1)){\r\n            monsterLocations.push([x+1,y-1])\r\n            \r\n        }\r\n\r\n        return monsterLocations;\r\n    }\r\n}\r\n\r\n\r\n","import { PageController } from '../Controller/PageController';\r\nimport { PageView } from '../View/PageView';\r\nimport { Storage } from \"./storage\";\r\n\r\nexport function initialize() {\r\n    console.log('App initialization started');\r\n    console.log('Loading...');\r\n\r\n    Storage.checkEmpty();\r\n\r\n    let pageView = new PageView(document.getElementById(\"page-wrapper\"));\r\n    const pageController = new PageController(null,pageView);\r\n    pageController.initialize();\r\n\r\n}","export class MonsterModel {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.name = \"Monster\";\r\n        this.element = \"Monster\";\r\n        this.furType = \"\";\r\n        this.numArms = 0;\r\n        this.numLegs = 0;\r\n        this.canSwim = false;\r\n        this.canFly = true;\r\n        this.color = \"\";\r\n        this.region = \"\";\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n\r\n    screech() {\r\n        // TODO: Play sound or change color.\r\n    }\r\n\r\n    // Check if the monster has a valid setup.\r\n    verify() {\r\n        // TODO\r\n    }\r\n\r\n    setProperty(property, value) {\r\n        this[property] = value;\r\n    }\r\n\r\n    configure(properties){\r\n        for (const prop in properties) {\r\n            if (properties.hasOwnProperty(prop)) {\r\n                const element = properties[prop];\r\n                this[prop] = element;\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class Storage {\r\n\r\n    static checkEmpty() {\r\n        if (localStorage.getItem('zoo_data') == null) {\r\n            localStorage.setItem('zoo_data', JSON.stringify(Storage.createDefaultConfiguration()))\r\n        }\r\n    }\r\n\r\n    static createDefaultConfiguration() {\r\n        return {\r\n            areas: [\r\n                {\r\n                    region: \"Jungle\",\r\n                    layout: [\r\n                        [1, 0, 0, 0, 1, 1, 0, 0, 0, 1],\r\n                        [1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\r\n                        [1, 0, 1, 0, 0, 0, 0, 1, 0, 1],\r\n                        [1, 1, 0, 0, 0, 0, 0, 0, 1, 1],\r\n                        [1, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n                        [1, 1, 0, 0, 0, 0, 0, 0, 0, 1],\r\n                        [1, 0, 1, 0, 0, 0, 0, 0, 0, 1],\r\n                        [1, 0, 0, 1, 0, 0, 0, 0, 0, 1],\r\n                        [1, 0, 0, 0, 1, 1, 0, 0, 0, 1],\r\n                        [1, 0, 0, 0, 1, 1, 0, 0, 0, 1],\r\n                    ],\r\n                },\r\n                {\r\n                    region: \"NorthPole\",\r\n                    layout: [\r\n                        [0, 0, 0, 0, 1, 1, 0, 0, 0, 1],\r\n                        [0, 0, 0, 1, 0, 0, 1, 0, 0, 1],\r\n                        [0, 0, 1, 0, 0, 0, 0, 0, 0, 1],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 1, 1],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n                        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [1, 0, 0, 0, 0, 1, 0, 0, 0, 0],\r\n                        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [1, 0, 0, 0, 1, 1, 0, 0, 0, 0],\r\n                        [1, 0, 0, 0, 1, 1, 0, 0, 0, 0]\r\n                    ]\r\n                },\r\n                {\r\n                    region: \"Sahara\",\r\n                    layout: [\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n                    ]\r\n                }\r\n            ],\r\n            available_monsters: [],\r\n            placed_monsters: []\r\n        };\r\n    }\r\n\r\n    static getObject() {\r\n        return JSON.parse(localStorage.getItem('zoo_data'));\r\n    }\r\n\r\n    static saveObject(data) {\r\n        localStorage.setItem('zoo_data', JSON.stringify(data));\r\n    }\r\n\r\n    static loadLayout(region) {\r\n        return Storage.getObject().areas.find(x => x.region === region);\r\n    }\r\n\r\n    static saveMonster(monster) {\r\n        const data = Storage.getObject();\r\n\r\n        data.available_monsters.push(monster);\r\n\r\n        Storage.saveObject(data);\r\n    }\r\n\r\n    static placeMonster(monster) {\r\n        const data = Storage.getObject();\r\n\r\n        data.available_monsters = data.available_monsters.filter(x => x.id != monster.id);\r\n        data.placed_monsters.push(monster);\r\n\r\n        Storage.saveObject(data);\r\n    }\r\n\r\n    static moveMonster(monster) {\r\n        const data = Storage.getObject();\r\n\r\n        data.placed_monsters = data.placed_monsters.filter(m => m.id !== monster.id);\r\n        console.log(data.placed_monsters);\r\n        data.placed_monsters.push(monster);\r\n\r\n        Storage.saveObject(data);\r\n    }\r\n\r\n    static removeMonster(monster) {\r\n        const data = Storage.getObject();\r\n\r\n        data.placed_monsters = data.placed_monsters.filter(m => m.id !== monster.id);\r\n\r\n        Storage.saveObject(data);\r\n    }\r\n\r\n    static getAvailableMonster(id) {\r\n        return Storage.getObject().available_monsters.find(x => x.id === id);\r\n    }\r\n\r\n    static getAvailableMonsters() {\r\n        return Storage.getObject().available_monsters;\r\n    }\r\n\r\n    static getPlacedMonsters(region) {\r\n        return Storage.getObject().placed_monsters.filter(x => x.region === region);\r\n    }\r\n\r\n    static getPlacedMonster(region, id) {\r\n        return Storage.getObject().placed_monsters.find(x => x.region === region && x.id === id);\r\n    }\r\n\r\n    static getPlacedMonsterByCoords(region, x, y) {\r\n        return Storage.getObject().placed_monsters.find(m => m.region === region && m.x === m && m.y === y);\r\n    }\r\n}","import { Config } from \"./config\";\n\n\nexport class WeatherModel {\n\n    constructor(){\n        this.override = null;\n    }\n\n    // Override allows for the ascessor to change the weather when testing.\n    setOverride(status){\n        this.override = status;        \n    }\n\n    getWeather(loc, callback){\n        let xmlHttp = new XMLHttpRequest();\n        let requestUrl = `https://api.openweathermap.org/data/2.5/weather?q=${loc}&APPID=${Config.weather.apiKey}&units=${Config.weather.units}`;\n        console.log(requestUrl);\n        fetch(requestUrl).then((response) =>{\n            return response.json();\n        }).then((json) => {\n            if(this.override !== null){\n                json.weather[0].main = this.override;\n            }\n\n            callback(json);\n        })\n    }\n}","import { View } from './View';\r\n\r\nexport class GridView extends View {\r\n    set display(setDisplay) {\r\n        setDisplay ? this.element.classList.toggle(\"visible\") : this.element.classList.remove(\"visible\");\r\n    }\r\n\r\n    render(model) {\r\n        this.model = model;\r\n        this.element.innerHTML = this.renderTiles().join(\"\");\r\n        this.addMonsters();\r\n\r\n        this.createListenerEvents();\r\n    }\r\n\r\n    renderTiles() {\r\n        const gridItems = [];\r\n        /* Since the grid is dynamically generated the CSS needs to be added dynamically */\r\n        this.element.style = `grid-template-rows: repeat(${this.model.rows}, 50px);grid-template-columns: repeat(${this.model.columns}, 50px);`;\r\n\r\n        for (let x = 0; x < this.model.rows; x++) {\r\n            for (let y = 0; y < this.model.columns; y++) {\r\n                gridItems.push(this.createTile(x, y));\r\n            }\r\n        }\r\n        return gridItems;\r\n    }\r\n\r\n    createTile(x, y) {\r\n        return `<div class=\"zoo-tile ${this.model.isDisabled(x, y) ? \"disabled\" : \"\"}\" data-x=\"${x}\" data-y=\"${y}\"></div>`;\r\n    }\r\n\r\n    addMonsters() {\r\n\r\n\r\n        for (let e = 0; e < this.model.rows; e++) {\r\n            for (let a = 0; a < this.model.columns; a++) {\r\n                console.log(e,a);\r\n                const monster = this.model.getMonster(e, a);\r\n\r\n                if (!monster) continue;\r\n\r\n                console.log('re');\r\n                const image = document.createElement('img');\r\n\r\n                image.id = monster.id;\r\n                image.src = monster.drawing;\r\n                image.draggable = true;\r\n                image.addEventListener('dragstart', this.drag);\r\n\r\n                this.element.querySelector(`[data-x='${e}'][data-y='${a}']`).appendChild(image);\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    allowDrop(ev) {\r\n        ev.preventDefault();\r\n        ev.dataTransfer.dropEffect = \"move\";\r\n    }\r\n\r\n    createListenerEvents() {\r\n        for (const tile of this.element.querySelectorAll(\".zoo-tile:not(.disabled)\")) {\r\n            tile.addEventListener('drop', this.drop);\r\n            tile.addEventListener('dragover', this.allowDrop)\r\n        }\r\n    }\r\n\r\n    drag(ev) {\r\n        ev.dataTransfer.setData(\"text/plain\", ev.target.id);\r\n    }\r\n\r\n\r\n    interact(x,y){\r\n        let tile = this.element.querySelector(`[data-x='${x}'][data-y='${y}']`);\r\n        let image = tile.firstChild;\r\n        image.classList.add(\"blurred\");\r\n        setTimeout(() => {\r\n           image.classList.remove(\"blurred\"); \r\n        }, 1000);\r\n    }\r\n}","import { View } from \"./View\";\r\n\r\n\r\n\r\nexport class MonsterView extends View {\r\n\r\n    render(model) {\r\n\r\n        this.labels = {\r\n            eyes: \"Aantal ogen\",\r\n            canSwim: \"kan hij zwemmen\",\r\n            arms: \"Aantal armen\",\r\n            legs: \"Aantal benen\",\r\n            legType: \"Type been\",\r\n            armType: \"Type arm\",\r\n            fur: \"Type vacht\",\r\n            canFly: \"Kan hij vliegen\", \r\n            color: \"Kleur\",\r\n        };\r\n\r\n        let monsterForm = this.element.querySelector(\"#monsterCreateForm\");\r\n        monsterForm.addEventListener(\"submit\", this.onMonsterCreate);\r\n\r\n        let monsterType = this.element.querySelector(\"#monsterType\");\r\n        monsterType.addEventListener(\"change\", this.onElementChange);\r\n\r\n\r\n        let container = this.element.querySelector(\"#monsterCanvas\");\r\n        this.init(container, 250, 250, \"#fff\");\r\n\r\n\r\n        if (model) {\r\n            if (model.limitations) {\r\n                this.setLimitations(model.limitations);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    setLimitations(limitations) {\r\n        //TODO: change fields based on limitations.\r\n        this.resetFields();\r\n\r\n    \r\n        for (const limitation in limitations) {\r\n            if (limitations.hasOwnProperty(limitation)) {\r\n                const element = limitations[limitation];\r\n                this.renderField(element, limitation);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    createCanvas(parent, width, height) {\r\n        const canvas = {};\r\n        canvas.node = document.createElement('canvas');\r\n        canvas.context = canvas.node.getContext('2d');\r\n        canvas.node.width = width || 100;\r\n        canvas.node.height = height || 100;\r\n        parent.appendChild(canvas.node);\r\n        return canvas;\r\n    }\r\n\r\n    init(container, width, height, fillColor) {\r\n\r\n        if (this.canvas)\r\n            return;\r\n\r\n        this.canvas = this.createCanvas(container, width, height);\r\n        const ctx = this.canvas.context;\r\n        // define a custom fillCircle method\r\n        ctx.fillCircle = function (x, y, radius, fillColor) {\r\n            this.fillStyle = fillColor;\r\n            this.beginPath();\r\n            this.moveTo(x, y);\r\n            this.arc(x, y, radius, 0, Math.PI * 2, false);\r\n            this.fill();\r\n        };\r\n\r\n        ctx.clearTo = function (fillColor) {\r\n            ctx.fillStyle = fillColor;\r\n            ctx.fillRect(0, 0, width, height);\r\n        };\r\n        ctx.clearTo(fillColor || \"#fff\");\r\n\r\n        // bind mouse events\r\n        this.canvas.node.onmousemove = (e) => {\r\n            if (!this.canvas.isDrawing) {\r\n                return;\r\n            }\r\n\r\n            const x = this.getMousePos(this.canvas.node, e).x;\r\n            const y = this.getMousePos(this.canvas.node, e).y;\r\n\r\n            const radius = 2; // or whatever\r\n            const fillColor = '#ff0000';\r\n\r\n            if (!this.canvas.erase) {\r\n                ctx.fillCircle(x, y, radius, fillColor);\r\n            } else {\r\n                ctx.fillCircle(x, y, radius + 2, \"#fff\");\r\n            }\r\n        };\r\n\r\n        this.canvas.node.onmousedown = (e) => {\r\n            this.canvas.isDrawing = true;\r\n            console.log(\"Drawing?\");\r\n        };\r\n        this.canvas.node.onmouseup = (e) => {\r\n            this.canvas.isDrawing = false;\r\n        };\r\n\r\n        this.element.querySelector(\"#eraseButton\").addEventListener('click', (e) => {\r\n            this.canvas.erase = !this.canvas.erase;\r\n        });\r\n    }\r\n\r\n    getMousePos(canvas, evt) {\r\n        const rect = canvas.getBoundingClientRect();\r\n        return {\r\n            x: evt.clientX - rect.left,\r\n            y: evt.clientY - rect.top\r\n        };\r\n    }\r\n\r\n    displayMonster(monster) {\r\n        const element = document.getElementById(\"available-monsters\");\r\n        const image = document.createElement('img');\r\n\r\n        image.id = monster.id;\r\n\r\n        image.src = monster.drawing;\r\n        image.draggable = true;\r\n        image.addEventListener('dragstart', this.drag);\r\n\r\n        element.appendChild(image);\r\n    }\r\n\r\n    drag(ev) {\r\n        ev.dataTransfer.setData(\"text/plain\", ev.target.id);\r\n    }\r\n\r\n    exportCanvas() {\r\n        return this.canvas.node.toDataURL();\r\n    }\r\n\r\n    importCanvas(data) {\r\n        let img = new Image;\r\n        img.src = dataUri;\r\n        img.onload = function () {\r\n            const ctx = this.canvas.context;\r\n            ctx.drawImage(img, 0, 0);\r\n        }.bind(this);\r\n    }\r\n\r\n    resetFields(){\r\n        let form = this.element.querySelector(\"#form-dynamic\");\r\n\r\n        while (form.firstChild) {\r\n            form.removeChild(form.firstChild);\r\n        }\r\n    }\r\n\r\n\r\n    // Renders indivudual monster fields\r\n    renderField(limitations, key){\r\n        let form = this.element.querySelector(\"#form-dynamic\");\r\n\r\n        if(limitations.fields){\r\n            limitations.fields.forEach((fieldVal) => {\r\n                form.append(this.renderPartialField(fieldVal));\r\n            });\r\n        }\r\n        else{\r\n            form.append(this.renderPartialField(limitations, key));\r\n        }\r\n    }\r\n\r\n\r\n    renderPartialField(fieldVal, name = null){\r\n        if(name === null){\r\n            name = fieldVal.name;\r\n        }\r\n\r\n        let form_group = document.createElement(\"div\");\r\n        form_group.classList.add(\"form-group\");\r\n        \r\n        let el = null;\r\n\r\n        let fieldType = this.getLimitationFieldType(fieldVal);\r\n\r\n        form_group.appendChild(this.buildLabel(name));\r\n        if(fieldType[0] === \"select\"){\r\n            el = this.buildSelect(name, fieldVal);\r\n        }\r\n        else{\r\n            el = this.buildTextInput(name, fieldVal,fieldType[1]);\r\n        }\r\n        form_group.appendChild(el);\r\n\r\n        return form_group;\r\n    }\r\n\r\n    getLimitationFieldType(limitation){\r\n\r\n        let fields = [];\r\n        if(limitation.types)\r\n            return [\"select\",\"\"];\r\n        if(typeof limitation === \"boolean\")\r\n            return [\"input\", \"checkbox\"]\r\n        if(limitation.min !== null && limitation.max !== null)\r\n            return [\"input\", \"number\"];\r\n\r\n        return fields;\r\n    }\r\n\r\n    buildSelect(name,limitation){\r\n        let selectEl = document.createElement(\"select\");\r\n        let options = limitation.types;\r\n        selectEl.setAttribute(\"name\", name);\r\n        selectEl.classList.add(\"form-control\")\r\n        options.forEach((option) => {\r\n            let optionEl = document.createElement(\"option\");\r\n            optionEl.setAttribute(\"value\", option);\r\n            optionEl.textContent = option;\r\n            selectEl.appendChild(optionEl);\r\n        });\r\n\r\n        return selectEl;\r\n    }\r\n\r\n    buildTextInput(name, limitation, type){\r\n        let textEl = document.createElement(\"input\");\r\n        textEl.setAttribute(\"type\", type);\r\n        textEl.setAttribute(\"name\", name);\r\n        if(type === \"number\"){\r\n            textEl.setAttribute(\"min\", limitation.min);\r\n            textEl.setAttribute(\"max\", limitation.max);\r\n        }\r\n        textEl.classList.add(\"form-control\");\r\n        return textEl;\r\n    }\r\n\r\n\r\n    buildLabel(name){\r\n        let label = document.createElement(\"label\");\r\n        label.setAttribute(\"for\", name);\r\n        if(this.labels[name]){\r\n            label.textContent = this.labels[name];\r\n        }\r\n\r\n        return label;\r\n    }\r\n    buildNumberInput(limitation){\r\n\r\n    }\r\n}","import { View } from './View';\r\n\r\nexport class PageView extends View {\r\n    render(model) {\r\n        let jungleEl = this.element.querySelector(\"#showJungle\");\r\n        let saharaEl = this.element.querySelector(\"#showSahara\");\r\n        let northPoleEL = this.element.querySelector(\"#showNorthPole\");\r\n\r\n        jungleEl.addEventListener('click', this.onShowJungle);\r\n        saharaEl.addEventListener('click', this.onShowSahara);\r\n        northPoleEL.addEventListener('click', this.onShowNorthPole);\r\n    }\r\n\r\n}","export class View {\r\n    constructor(element) {\r\n        this.element = element;\r\n        this.display = true;\r\n    }\r\n\r\n    set display(setDisplay) {\r\n\r\n    }\r\n\r\n    static scrollToTop() {\r\n        window.scroll({ top: 0, behavior: 'smooth' })\r\n    }\r\n\r\n    render(model) {\r\n        //\r\n    }\r\n}","import { View } from \"./View\";\n\nexport class WeatherView extends View {\n    render(model){\n        console.log(model);\n        this.element.innerHTML = this.formatTemp(model.temperature);\n        this.element.innerHTML += `, ${model.main}`\n    }\n\n    formatTemp(temp){\n        return `${temp}°c`\n    }\n}","import { initialize } from './Model/init';\r\n\r\ninitialize();"],"sourceRoot":""}